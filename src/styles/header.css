/* ====== EireQuant Header / Nav ====== */
:root {
    --eq-header-h: 76px; /* consistent header height */
    --eq-logo-h: 56px; /* wordmark height (auto width) */
    --eq-maxw: 1460px;
    --eq-border: #d7d7d7; /* pronounced early-2000s borders */
}

/* Header bar */
.site-header {
    position: relative;
    z-index: 10;
    height: var(--eq-header-h);
    border-bottom: 1px solid var(--eq-border);
    background: #fff;
}

/* Inner container – leaves space for the floating wordmark on the left */
.nav-inner {
    height: 100%;
    max-width: var(--eq-maxw);
    margin-inline: auto;
    padding: 0 16px 0 168px; /* room for brand overlay */
    display: flex;
    align-items: center;
    gap: 18px;
    font-size: 16px; /* body is 18px; nav slightly smaller */
    line-height: 1;
}

/* Floating brand wordmark (purely decorative, never intercepts clicks) */
.brand-overlay {
    position: absolute;
    top: 10px;
    left: 16px;
    height: var(--eq-logo-h);
    pointer-events: none;
    z-index: 20;
}

    .brand-overlay img {
        height: var(--eq-logo-h);
        width: auto;
        display: block;
    }

/* Top-level links + items share the same visual language */
.nav-link,
.trigger,
.menu-link,
.menu-section,
.flyout-link {
    color: #1b1b1b;
    text-decoration: none;
    padding: 8px 10px;
    border-radius: 4px; /* small, not pill */
    line-height: 1;
    cursor: pointer;
    background: transparent;
    border: none; /* buttons look like links */
    font: inherit;
}

    /* Hover/visited feel (classic) */
    .nav-link:hover,
    .menu-link:hover,
    .menu-section:hover,
    .flyout-link:hover {
        text-decoration: underline;
        text-underline-offset: 2px;
    }

a:visited {
    color: #4b2f6b; /* subtle visited color */
}

/* Keyboard accessibility */
.nav-link:focus-visible,
.trigger:focus-visible,
.menu-link:focus-visible,
.menu-section:focus-visible,
.flyout-link:focus-visible {
    outline: 2px solid #0a66c2;
    outline-offset: 2px;
}

/* Dropdown root */
.dropdown {
    position: relative;
}

/* Base dropdown panel (hidden by default) */
.menu {
    position: absolute;
    left: 0;
    top: calc(100% - 2px);
    min-width: 240px;
    padding: 10px;
    background: #fff;
    border: 2px solid var(--eq-border);
    border-radius: 6px;
    box-shadow: 0 2px 10px rgba(0,0,0,.05);
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transform: translateY(6px);
    transition: opacity .12s ease, transform .12s ease, visibility 0s linear .12s;
}

/* Keep panel open while hovering the trigger or panel; works on touch via focus-within */
.dropdown:hover > .menu,
.dropdown:focus-within > .menu {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transform: translateY(0);
    transition: opacity .12s ease, transform .12s ease;
}

/* “Safe zone” – prevents flicker when moving from button to panel */
.menu::before {
    content: "";
    position: absolute;
    top: -10px;
    left: 0;
    right: 0;
    height: 10px;
}

/* Column stack inside dropdowns */
.menu-col {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

/* Nested flyouts */
.has-flyout {
    position: relative;
    padding-right: 6px;
}

    .has-flyout > .flyout {
        position: absolute;
        top: 0;
        left: calc(100% + 6px);
        min-width: 180px;
        padding: 8px;
        background: #fff;
        border: 2px solid var(--eq-border);
        border-radius: 6px;
        box-shadow: 0 2px 10px rgba(0,0,0,.05);
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transform: translateX(6px);
        transition: opacity .12s ease, transform .12s ease, visibility 0s linear .12s;
    }

    .has-flyout:hover > .flyout,
    .has-flyout:focus-within > .flyout {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
        transform: translateX(0);
    }

/* Compact separators if you want to group items
.menu-link + .menu-section { margin-top: 6px; border-top: 1px dashed #e6e6e6; padding-top: 8px; }
*/

/* Narrow screens – let items wrap, keep wordmark reasonable */
@media (max-width: 980px) {
    .nav-inner {
        padding-left: 140px;
        gap: 12px;
        flex-wrap: wrap;
    }

    .brand-overlay {
        top: 12px;
        left: 12px;
        height: 48px;
    }

        .brand-overlay img {
            height: 48px;
        }
}
