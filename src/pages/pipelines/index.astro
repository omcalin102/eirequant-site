---
import BaseLayout from "../../layouts/BaseLayout.astro";
---

<BaseLayout title="Pipelines — EireQuant" description="Entry point for live and simulation pipelines.">
  <h1 class="title">Pipelines</h1>

  <section class="cards">
    <!-- Live -->
    <article class="card">
      <div class="meta">PIPELINE</div>
      <h2 class="heading">Live Pipeline</h2>
      <p class="desc">
        Production path for the day-to-day investment workflow. Runs the current model set,
        generates real selections, computes risk greeks and sector health, and tracks PID policy
        controls. As the model library grows, this becomes the operating backbone where modules,
        constraints, and governance come together to drive a live book with auditability.
      </p>

      <div class="rows">
        <div class="row"><span>Status</span><strong>Offline (Reactivation planned 29/10)</strong></div>
        <div class="row"><span>Current Model</span><strong>EQX-M1 (PID)</strong></div>
      </div>

      <div class="actions">
        <a class="btn" href="/pipelines/live/">Open live pipeline</a>
      </div>
    </article>

    <!-- Workstation -->
    <article class="card">
      <div class="meta">PIPELINE</div>
      <h2 class="heading">Workstation (Sim)</h2>
      <p class="desc">
        Research & validation sandbox for windows, parameter sweeps, ablations, and stress tests.
        Use it to study regimes, assess calibration and uncertainty, and harden ideas before promotion
        to the live path.
      </p>

      <div class="rows">
        <div class="row"><span>Status</span><strong>Currently crafting EQC-M2</strong></div>
        <div class="row"><span>Focus</span><strong>Features · Validation · Engineering</strong></div>
      </div>

      <div class="actions">
        <a class="btn" href="/pipelines/sim/">Open workstation</a>
      </div>
    </article>
  </section>

  <!-- Wide subtext card -->
  <section class="subcard">
    <h3>How to use these</h3>
    <p>
      Validate in the <strong>Workstation</strong>, then promote to <strong>Live</strong>.
      The workstation is where the engineering and theoretical ideas are brought together to improve a section of the existing framework.
      The live path implements our project into an everyday working investment team where analysis is driven from real time data.
    </p>
    <ul>
      <li><strong>Live:</strong> daily selections, greeks, sector health, PID control trace, governance hooks.</li>
      <li><strong>Workstation:</strong> windows & comparisons, calibration and ECE checks, scenario & stress testing.</li>
    </ul>
    <p>
      Over time, the live pipeline becomes a full shop surface where multiple model families,
      sector-specific routing, and portfolio rules layered on top of reliable process.
    </p>
  </section>

  <style>
    .title{
      text-align:center;
      margin:.25rem 0 1rem;
      letter-spacing:.01em;
    }

    .cards{
      display:grid;
      grid-template-columns:repeat(2,minmax(280px,1fr));
      gap:1rem;
      margin:0 auto 1rem;
      max-width:1100px;
    }
    @media (max-width:900px){ .cards{grid-template-columns:1fr} }

    .card{
      background:#fff;border:1px solid var(--border);border-radius:14px;
      padding:1rem;box-shadow:0 6px 18px rgba(0,0,0,.05);
      display:flex;flex-direction:column;gap:.6rem
    }
    .meta{font-size:.75rem;color:#6b7280;letter-spacing:.06em}
    .heading{margin:.1rem 0 .2rem;font-size:1.35rem}
    .desc{color:#333;margin:0;max-width:70ch}

    .rows{display:grid;gap:.35rem;margin-top:.25rem}
    .row{display:flex;justify-content:space-between;gap:.75rem;color:#555}
    .row span{color:#6b7280}
    .row strong{color:#111;font-weight:600}

    .actions{margin-top:.4rem}
    .btn{
      display:inline-block;background:#0e3b2d;color:#fff;border-radius:10px;
      padding:.55rem .9rem;font-weight:600;border:1px solid #0e3b2d
    }
    .btn:hover{filter:brightness(.95)}

    .subcard{
      background:#fff;border:1px solid var(--border);border-radius:14px;
      padding:1rem;box-shadow:0 6px 18px rgba(0,0,0,.05);
      max-width:1100px;margin:0 auto;
    }
    .subcard h3{margin:.1rem 0 .4rem}
    .subcard p{max-width:80ch;color:#333}
    .subcard ul{margin:.25rem 0 .5rem 1.1rem}
    .subcard li{margin:.15rem 0}
  </style>
</BaseLayout>
