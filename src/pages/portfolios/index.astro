---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";

const items = (await getCollection("portfolios"))
  .sort((a,b) => a.data.title.localeCompare(b.data.title));
---
<BaseLayout title="Portfolios Â· EireQuant" description="Portfolio allocations with equity and drawdown metrics.">
  <h1>Portfolios</h1>
  <div class="cards">
    {items.map(({ data }) => (
      <a class="card" href={`/portfolios/${data.slug}/`}>
        <div class="kicker">Portfolio</div>
        <h3>{data.title}</h3>
        <p>{data.summary ?? "Description coming soon."}</p>
      </a>
    ))}
  </div>

  <style>
    .cards{ display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:1rem; margin-top:.75rem; }
    .card{ border:1px solid #eee; border-radius:12px; padding:1rem; background:#fff; }
    .card:hover{ border-color:#ddd; box-shadow:0 8px 24px rgba(0,0,0,.06); }
    .kicker{ font-size:.8rem; text-transform:uppercase; color:#666; }
  </style>
</BaseLayout>
