import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.CQ95-tCy.js";import{g as j,a as g,s as y}from"./api.BFLoCgOV.js";const m=l=>typeof l=="number"&&isFinite(l)?`${(l*100).toFixed(1)}%`:"�";function S(){const[l,h]=i.useState(null),[c,u]=i.useState(null),[a,x]=i.useState([]),[o,p]=i.useState(null);i.useEffect(()=>{(async()=>{const e=await j();h(e);const t=await g(e);u(t??null);const n=(t?.selections??[]).filter(Boolean);x(n);const r=await y(e);p(r??null)})()},[]);const f=(()=>{const e=c?.series??c?.model_id??"�",t=c?.regime??"�",n=m(c?.confidence);return[l??"�",e,t,`Conf ${n}`].join(" | ")})(),d=o?.leaders?.slice(0,5)??o?.top?.slice(0,5)??[];return s.jsxs("div",{children:[s.jsx("div",{className:"card-sub",children:f}),a.length?s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Ticker"}),s.jsx("th",{children:"Action"}),s.jsx("th",{children:"Conf."})]})}),s.jsx("tbody",{children:a.slice(0,8).map((e,t)=>s.jsxs("tr",{children:[s.jsx("td",{children:e.ticker}),s.jsx("td",{children:e.action??"�"}),s.jsx("td",{children:m(e.conf??e.confidence)})]},t))})]}):s.jsx("div",{className:"chip",style:{marginTop:".5rem"},children:s.jsx("strong",{className:"muted",children:"No selections today."})}),d.length?s.jsx("div",{className:"pill-grid two-col",style:{marginTop:".6rem"},children:d.map((e,t)=>{const n=e?.ticker??e?.symbol??e?.name??e?.[0]??"�",r=typeof e?.omega=="number"?e.omega:Array.isArray(e)&&typeof e[1]=="number"?e[1]:null;return s.jsxs("span",{className:"pill",title:n,children:[n,typeof r=="number"?s.jsxs("em",{className:"meta",style:{marginLeft:".4rem",opacity:.6,fontStyle:"normal"},children:["Om ",r.toFixed(2)]}):null]},t)})}):null,s.jsx("style",{children:`
        .table{margin-top:.5rem}
      `})]})}export{S as default};
